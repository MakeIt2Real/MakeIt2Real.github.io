<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wack-A-Mole</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>Wack-A-Mole</h1>
  <p>Press keys 1â€“9 to whack the mole!</p>

  <canvas id="game" width="800" height="600"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    // --- VARIABLES ---
    let running = true;
    let wackHit = -1;
    let wackTimer = 0;
    let wackMole = 0;
    let score = 0;
    let timer = 0;

    // --- MOLE COORDINATES ---
    const moleCoords = [];
    let startX = 100;
    let startY = 100;

    for (let row = 0; row < 3; row++) {
      for (let col = 0; col < 3; col++) {
        moleCoords.push([startX, startY]);
        startX += 100;
      }
      startY += 100;
      startX = 100;
    }

    // --- INPUT ---
    document.addEventListener("keydown", (e) => {
      if (e.key >= "1" && e.key <= "9") {
        wackHit = parseInt(e.key) - 1;
      }
    });

    // --- GAME LOOP ---
    function gameLoop() {
      if (!running) return;

      timer++;
      wackTimer++;

      // move mole randomly every 80 frames
      if (wackTimer === 80) {
        wackMole = Math.floor(Math.random() * 9);
      }

      // check hit
      if (wackHit === wackMole) {
        score++;
        wackHit = -1;
        wackTimer = 79;
      }

      if (wackTimer === 80) {
        wackTimer = 0;
      }

      // --- DRAW ---
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // SCORE
      ctx.fillStyle = "white";
      ctx.font = "36px Arial";
      ctx.fillText("SCORE: " + score, 20, 40);

      // DRAW GRID
      let gx = 100;
      let gy = 100;
      let keyNum = 1;
      ctx.font = "20px Arial";

      for (let r = 0; r < 3; r++) {
        for (let c = 0; c < 3; c++) {
          ctx.strokeStyle = "white";
          ctx.strokeRect(gx, gy, 80, 80);
          gx += 100;
        }
        gy += 100;
        gx = 100;
      }

      // DRAW MOLE
      const mole = moleCoords[wackMole];
      ctx.fillStyle = "gray";
      ctx.fillRect(mole[0], mole[1], 80, 80);

      // DRAW NUMBERS ON TOP
      gx = 100;
      gy = 100;
      keyNum = 1;
      ctx.fillStyle = "white";

      for (let r = 0; r < 3; r++) {
        for (let c = 0; c < 3; c++) {
          ctx.fillText(keyNum, gx + 35, gy + 50);
          keyNum++;
          gx += 100;
        }
        gy += 100;
        gx = 100;
      }

      // WIN CONDITION
      if (score >= 50) {
        running = false;
        alert(`YOU GOT 50 POINTS IN ${(timer / 60).toFixed(2)} SECONDS!`);
        return;
      }

      requestAnimationFrame(gameLoop);
    }

    // START GAME
    gameLoop();
  </script>

</body>
</html>
